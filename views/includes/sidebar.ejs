<body>
    <nav class="nav flex-column bg-dark">
        <h4 class="text-white my-3">
            <img src="/assets/image520.png" alt="logo" style="width: 50px; height: 50px; margin-right: 10px;">Student
            Senior
        </h4>

        <a class="nav-link text-white" href="/">Home</a>

        <!-- Colleges Dropdown -->
        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#collegesMenu" role="button"
            aria-expanded="false" aria-controls="collegesMenu">
            Colleges
        </a>
        <div class="collapse ps-3" id="collegesMenu">
            <a class="nav-link text-white" href="/colleges">All Colleges</a>
            <a class="nav-link text-white" href="/colleges/new">Add College</a>
        </div>

        <!-- PYQs Dropdown -->
        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#pyqsMenu" role="button"
            aria-expanded="false" aria-controls="pyqsMenu">
            PYQs
        </a>
        <div class="collapse ps-3" id="pyqsMenu">
            <a class="nav-link text-white" href="/pyqs">All PYQs</a>
            <a class="nav-link text-white" href="/pyqs/new">Add PYQ</a>
        </div>

        <!-- Senior Dropdown -->
        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#seniorMenu" role="button"
            aria-expanded="false" aria-controls="seniorMenu">
            Senior
        </a>
        <div class="collapse ps-3" id="seniorMenu">
            <a class="nav-link text-white" href="/seniors">All Seniors</a>
            <a class="nav-link text-white" href="/seniors/new">Add Senior</a>
        </div>

        <!-- Store Dropdown -->
        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#storeMenu" role="button"
            aria-expanded="false" aria-controls="storeMenu">
            Store
        </a>
        <div class="collapse ps-3" id="storeMenu">
            <a class="nav-link text-white" href="/store">All Products</a>
            <a class="nav-link text-white" href="/store/new">Add Product</a>
        </div>

        <!-- Get and Give Opportunity Dropdown -->
        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#opportunityMenu" role="button"
            aria-expanded="false" aria-controls="opportunityMenu">
            Opportunity
        </a>
        <div class="collapse ps-3" id="opportunityMenu">
            <a class="nav-link text-white" href="/opportunity/getopportunities">All Get Opportunity</a>
            <a class="nav-link text-white" href="/opportunity/getopportunities/new">Add Get Opportunity</a>
            <a class="nav-link text-white" href="/opportunity/giveopportunities">All Give Opportunity</a>
            <a class="nav-link text-white" href="/opportunity/giveopportunities/new">Add Give Opportunity</a>
        </div>

        <!-- Groups Dropdown -->
        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#groupsMenu" role="button"
            aria-expanded="false" aria-controls="groupsMenu">
            Groups
        </a>
        <div class="collapse ps-3" id="groupsMenu">
            <a class="nav-link text-white" href="/whatsappgroup">All Groups</a>
            <a class="nav-link text-white" href="/whatsappgroup/new">Add Group</a>
        </div>

        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#branchcoursemenu" role="button"
            aria-expanded="false" aria-controls="branchcoursemenu">
            Branch & Courses
        </a>
        <div class="collapse ps-3" id="branchcoursemenu">
            <a class="nav-link text-white" href="/branches">All Branches</a>
            <a class="nav-link text-white" href="/branches/new">Add Branch</a>
            <a class="nav-link text-white" href="/courses">All Courses</a>
            <a class="nav-link text-white" href="/courses/new">Add Course</a>
            <a class="nav-link text-white" href="/subjects">All Subjects</a>
            <a class="nav-link text-white" href="/subjects/new">Add Subjects</a>
        </div>

        <!-- Notes Dropdown -->
        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#notesMenu" role="button"
            aria-expanded="false" aria-controls="notesMenu">
            Notes
        </a>
        <div class="collapse ps-3" id="notesMenu">
            <a class="nav-link text-white" href="/notes">All Notes</a>
            <a class="nav-link text-white" href="/notes/new">Add Notes</a>
        </div>

        <a class="nav-link dropdown-toggle text-white" data-bs-toggle="collapse" href="#transactionsMenu" role="button"
            aria-expanded="false" aria-controls="transactionsMenu">
            Transactions
        </a>
        <div class="collapse ps-3" id="transactionsMenu">
            <a class="nav-link text-white" href="/transactions">All Transactions</a>
            <a class="nav-link text-white" href="/transactions/redemptionrequests">Redemption Request</a>
        </div>

        <a href="/community" class="nav-link text-white">All Posts</a>
        <a href="/pyqs/s/requested-pyqs" class="nav-link text-white">Requested Pyqs</a>
        <a href="/client" class="nav-link text-white">All Users</a>

        <!-- User Login/Logout Section -->
        <% if (!currUser) { %>
            <a class="nav-link text-white" href="/login">Login</a>
            <% } else { %>
                <a class="nav-link text-white" href="/profile">
                    <i class="fa-solid fa-user"></i> &nbsp; <%= currUser.username %>
                </a>
                <a class="nav-link text-white" href="/logout">Logout</a>
                <% } %>
    </nav>

    <script>
        const navLinks = document.querySelectorAll('.nav-link');

        navLinks.forEach(link => {
            link.addEventListener('click', function (event) {
                if (!this.classList.contains('dropdown-toggle')) {
                    event.preventDefault();

                    // Save the original text to restore later if needed
                    const originalText = this.innerHTML;

                    this.innerHTML = `
                        <div class="spinner-border spinner-border-sm text-light" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>`;

                    setTimeout(() => {
                        window.location.href = this.href;
                    }, 500);
                }
            });
        });
    </script>
</body>